# Insight Extractor Configuration
# ════════════════════════════════════════════════════════════════

experiment_name: insight-extractor

# ────────────────────────────────────────────────────────────────
# Domain Configuration
# ────────────────────────────────────────────────────────────────
# Set active domain: interview, startup, commencement
domain: interview

domains:
  interview:
    raw_dir: data/raw/interview
    clean_dir: data/clean/per_video/interview
    split_dir: data/split/interview
    output_dir: outputs/interview
  startup:
    raw_dir: data/raw/startup
    clean_dir: data/clean/per_video/startup
    split_dir: data/split/startup_nltk
    output_dir: outputs/startup
  commencement:
    raw_dir: data/raw/commencement
    clean_dir: data/clean/per_video/commencement
    split_dir: data/split/commencement
    output_dir: outputs/commencement

# ────────────────────────────────────────────────────────────────
# Data Configuration
# ────────────────────────────────────────────────────────────────
data:
  text_column: text
  min_length: 10
  max_length: 150
  min_words: 4

# ────────────────────────────────────────────────────────────────
# Embedding Configuration
# ────────────────────────────────────────────────────────────────
embedding:
  model_name: all-MiniLM-L6-v2
  device: cuda
  batch_size: 64

# ────────────────────────────────────────────────────────────────
# UMAP Configuration
# ────────────────────────────────────────────────────────────────
umap:
  n_neighbors: 25
  n_components: 2
  min_dist: 0.1
  metric: cosine
  random_state: 42

# ────────────────────────────────────────────────────────────────
# HDBSCAN Configuration
# ────────────────────────────────────────────────────────────────
hdbscan:
  min_cluster_size: 12
  min_samples: 5
  metric: euclidean
  cluster_selection_method: eom

# ────────────────────────────────────────────────────────────────
# Cluster Merging Configuration
# ────────────────────────────────────────────────────────────────
clustering:
  target_min_clusters: 15
  target_max_clusters: 20
  merge_small_threshold: 10
  merge_medium_threshold: 25
  merge_large_threshold: 35
  noise_reassign_threshold: 0.10

# ────────────────────────────────────────────────────────────────
# LLM Configuration
# ────────────────────────────────────────────────────────────────
llm:
  model_id: google/gemma-2-9b-it
  max_new_tokens: 512
  batch_size: 4
  do_sample: false

# ────────────────────────────────────────────────────────────────
# Preprocessing Configuration
# ────────────────────────────────────────────────────────────────
preprocessing:
  split_regex: "(?<=[.!?])\\s+"
  use_punctuation_restoration: true
  granularity: medium  # fine, medium, coarse

# ────────────────────────────────────────────────────────────────
# Visualization Configuration
# ────────────────────────────────────────────────────────────────
plot:
  figsize: [14, 11]
  dpi: 300
  cmap: tab20
